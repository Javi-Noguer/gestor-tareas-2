<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Detalle de Proyecto</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" th:href="@{/favicon.ico}" />
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" />
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.css}">
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
</head>
<body>
<!-- Navbar -->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<!-- Contenido principal -->
<div class="container mt-4" th:if="${project}">
    <h2 th:text="${project.name}">Nombre del Proyecto</h2>

    <div class="detalle-item">
        <strong>ID:</strong> <span th:text="${project.id}"></span>
    </div>
    <div class="detalle-item">
        <strong>Descripci√≥n:</strong> <span th:text="${project.description}"></span>
    </div>
    <div class="detalle-item">
        <strong>Fecha de inicio:</strong> <span th:text="${project.startDate}"></span>
    </div>

    <div class="detalle-item" th:if="${project.users}">
        <strong>Usuarios asignados:</strong>
        <ul>
            <li th:each="user : ${project.users}" th:text="${user.username}"></li>
        </ul>
    </div>
    <div class="detalle-item">
        <strong>Proyecto creado por:</strong> <span th:text="${project.users.get(0).username}"></span>
    </div>
    <div class="detalle-item" th:if="${project.tasks}">
        <strong>Tareas del proyecto:</strong>
        <ul>
            <li th:each="task : ${project.tasks}" th:text="${task.title}"></li>
        </ul>
    </div>

    <a th:href="@{/tasks/new(projectId=${project.id})}" class="btn btn-success">Crear nueva tarea para este proyecto</a>

    <a th:href="@{/projects}" class="btn btn-secondary mt-3">Volver a la lista</a>
</div>
<!-- Footer -->
<footer class="bg-light text-center text-muted py-3 mt-auto">
    <small>&copy; 2025 GestorTIC</small>
</footer>

<!-- Scripts -->
<script th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>

</body>
</html>
